(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{23:function(e,t,n){e.exports=n(38)},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),o=n.n(c),u=n(2),s=n(22),i=n(3),l=n.n(i),m=n(6),p=n(16),f=n(7),d=n(20),h=n(21),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!1;case"FINISH_LOADING":return!0;default:return e}},E="https://mate-api.herokuapp.com/posts",b=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(E)).then((function(e){return e.json()})).then((function(e){return t?e.data.filter((function(e){return e.userId===t})):e.data})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){return{type:"USER_POSTS",userPosts:e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_POSTS":return t.userPosts;case"REMOVE_POST":return e.filter((function(e){return e.id!==t.postId}));default:return e}},N=function(e){return{type:"CHOOSE_USER_ID",userId:e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHOOSE_USER_ID":return t.userId;default:return e}},y=function(e){return{type:"CHOOSE_POST_ID",postId:e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHOOSE_POST_ID":return t.postId;default:return e}},w=function(e){return{type:"POST_ID_CHECK",postIdCheck:e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_ID_CHECK":return t.postIdCheck;default:return e}},P=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VISIBLE_COMMENTS":return t.visibleComments;default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return t.newPost;default:return e}},S=function(e){return{type:"ADD_COMMENT",newComment:e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENT":return t.newComment;default:return e}},D=function(e){return{type:"COMMENT_NAME",commentName:e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENT_NAME":return t.commentName;default:return e}},M=function(e){return{type:"COMMENT_EMAIL",commentEmail:e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENT_EMAIL":return t.commentEmail;default:return e}},x=function(e){return{type:"COMMENT_BODY",commentBody:e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENT_BODY":return t.commentBody;default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_CHANGE":return t.inputChange;default:return e}},B="https://mate-api.herokuapp.com/comments",H=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(B)).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:return n=e.sent,console.log(n),e.abrupt("return",n.filter((function(e){return e.postId===t})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(B,"/").concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(B),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=Object(f.combineReducers)({loading:v,userPosts:O,userId:C,postIdCheck:g,postId:I,visibleComments:P,newPost:j,newComment:T,commentName:k,commentEmail:A,commentBody:L,inputChange:R}),V=function(e){return e.loading},Y=function(e){return e.userId},J=function(e){return e.postId},K=function(e){return e.postIdCheck},W=function(e){return e.visibleComments},X=function(e){return e.newPost},q=function(e){return e.newComment},z=function(e){return e.commentName},Q=function(e){return e.commentEmail},Z=function(e){return e.commentBody},$=function(e){return e.userId?Object(p.a)(e.userPosts).filter((function(t){return null!==t.userId&&t.userId===e.userId&&t.title.toLowerCase().includes(e.inputChange.toLowerCase())})):Object(p.a)(e.userPosts).filter((function(t){return null!==t.title&&t.title.toLowerCase().includes(e.inputChange.toLowerCase())}))},ee=Object(f.createStore)(U,Object(d.composeWithDevTools)(Object(f.applyMiddleware)(h.a))),te=function(){var e=Object(u.b)(),t=Object(u.c)(V),n=Object(u.c)(Y);return a.a.createElement("button",{type:"button",onClick:function(){return e((t=n,function(){var e=Object(m.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"START_LOADING"}),e.next=3,b(t);case 3:r=e.sent,n(_(r)),n(N(t)),n({type:"FINISH_LOADING"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t},disabled:t},!t&&"Start loading Posts")},ne=(n(33),function(e){var t=e.posts,n=e.handleClick,r=e.postIsOpened,c=e.activePostId,o=Object(u.b)();var s=function(e,t){var n;return function(r){r.persist(),console.log(r),console.log(r.target.value);var a=function(e){return{type:"INPUT_CHANGE",inputChange:e}}(r.target.value);clearTimeout(n),n=setTimeout((function(){e(a)}),t)}}(o,1500);return a.a.createElement("div",{className:"PostsList"},a.a.createElement("h2",null,"Posts:"),a.a.createElement("div",{className:"App__input"},a.a.createElement("label",{className:"filterByTitle"},a.a.createElement("input",{className:"filterByTitle",type:"text",name:"filterTitle",placeholder:"put name of todo",onChange:s}),a.a.createElement("span",{className:"bar"}))),a.a.createElement("div",{className:"App__PostList"},a.a.createElement("ul",{className:"PostsList__list"},t.map((function(e){return a.a.createElement("li",{key:e.id,className:"PostsList__item"},a.a.createElement("div",null,a.a.createElement("b",null,"[User #".concat(e.userId,"]")),e.title),a.a.createElement("button",{className:"beautiful.button",type:"button",onClick:function(){return o({type:"REMOVE_POST",postId:e.id})}},"Remove"),r&&e.id===c?a.a.createElement("button",{type:"button",className:"PostsList__button button",onClick:function(){return n(e.id,"Close")}},"Close"):a.a.createElement("button",{type:"button",className:"PostsList__button button",onClick:function(){return n(e.id,"Open")}},"Open"))})))))}),re=(n(34),function(e){var t=e.postId,n=Object(u.b)(),r=Object(u.c)(z),c=Object(u.c)(Q),o=Object(u.c)(Z);console.log(r);return a.a.createElement("form",{className:"NewCommentForm",onSubmit:function(e){e.preventDefault(),n(function(e,t){return function(){var n=Object(m.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:F(e).then((function(){return H(t)})).then((function(e){return r(S(e))}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}({postId:t,name:r,email:c,body:o},t)),n(D("")),n(M("")),n(x(""))}},a.a.createElement("div",{className:"form-field"},a.a.createElement("input",{type:"text",name:"name",placeholder:"Your name",className:"NewCommentForm__input",value:r,onChange:function(e){return n(D(e.target.value))}})),a.a.createElement("div",{className:"form-field"},a.a.createElement("input",{type:"text",name:"email",placeholder:"Your email",className:"NewCommentForm__input",value:c,onChange:function(e){return n(M(e.target.value))}})),a.a.createElement("div",{className:"form-field"},a.a.createElement("textarea",{name:"body",placeholder:"Type comment here",className:"NewCommentForm__input",value:o,onChange:function(e){return n(x(e.target.value))}})),a.a.createElement("button",{type:"submit",className:"NewCommentForm__submit-button button"},"Add a comment"))}),ae=(n(35),function(e){var t=e.postId,n=Object(u.b)(),r=Object(u.c)(W),c=Object(u.c)(X),o=Object(u.c)(q);return a.a.createElement("div",{className:"PostDetails"},a.a.createElement("h2",null,"Post details:"),a.a.createElement("section",{className:"PostDetails__post"},a.a.createElement("p",null,null!==c&&c.title)),a.a.createElement("section",{className:"PostDetails__comments"},a.a.createElement("button",{type:"button",className:"button",onClick:function(){return n(function(e){return{type:"VISIBLE_COMMENTS",visibleComments:e}}(!r))}},r?"Hide":"Show"," ".concat(o.length," comments")),r&&a.a.createElement("ul",{className:"PostDetails__list"},o.length>0&&o.map((function(e){return a.a.createElement("li",{className:"PostDetails__list-item",key:e.id},a.a.createElement("button",{type:"button",className:"PostDetails__remove-button button",onClick:function(){return n(function(e,t){return function(){var n=Object(m.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:G(e).then((function(){return H(t)})).then((function(e){return r(S(e))}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e.id,t))}},"X"),a.a.createElement("p",null,e.name))})))),a.a.createElement("section",null,a.a.createElement("div",{className:"PostDetails__form-wrapper"},a.a.createElement(re,{postId:t}))))}),ce=["All users","Leanne Graham","Ervin Howell","Clementine Bauch","Patricia Lebsack","Chelsey Dietrich","Mrs. Dennis Schulist","Kurtis Weissnat","Nicholas Runolfsdottir V","Glenna Reichert","Leanne Graham"],oe=(n(36),function(){var e=Object(u.b)(),t=Object(u.c)(V),n=Object(u.c)($),r=Object(u.c)(J),c=Object(u.c)(K);return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Redux list of posts"),t?a.a.createElement("div",{className:"App__loadPosts"},a.a.createElement("header",{className:"App__header"},a.a.createElement("label",null,"Select a user: \xa0",a.a.createElement("select",{className:"App__user-selector",onChange:function(t){return e(N(+t.target.value))}},ce.map((function(e,t){return a.a.createElement("option",{key:t,value:t},e)}))))),a.a.createElement("main",{className:"App__main"},a.a.createElement("div",{className:"App__sidebar"},a.a.createElement(ne,{handleClick:function(t,n){var r;switch(e((r=t,function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c=r,fetch("".concat(E,"/").concat(c)).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:return n=e.sent,t({type:"ADD_POST",newPost:n}),e.next=6,H(r);case 6:a=e.sent,t(S(a));case 8:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}())),n){case"Open":e(y(t)),e(w(!0));break;case"Close":e(y(0)),e(w(!1))}},postIsOpened:c,activePostId:r,posts:n})),a.a.createElement("div",{className:"App__content"},c&&a.a.createElement(ae,{postId:r})))):a.a.createElement(te,null))}),ue=function(){return a.a.createElement(u.a,{store:ee},a.a.createElement(s.a,null,a.a.createElement(oe,null)))};o.a.render(a.a.createElement(ue,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.89b954a5.chunk.js.map