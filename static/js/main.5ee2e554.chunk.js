(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{24:function(e,t,n){e.exports=n(39)},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(11),o=n.n(c),u=n(2),s=n(23),i=n(3),l=n.n(i),m=n(6),p=n(17),f=n(7),d=n(21),h=n(22),E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!1;case"FINISH_LOADING":return!0;default:return e}},v="https://mate-api.herokuapp.com/posts",b=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?fetch("".concat(v,"?userId=").concat(t)).then((function(e){return e.json()})).then((function(e){return e.data})):fetch("".concat(v)).then((function(e){return e.json()})).then((function(e){return e.data})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){return{type:"USER_POSTS",userPosts:e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_POSTS":return t.userPosts;case"REMOVE_POST":return e.filter((function(e){return e.id!==t.postId}));default:return e}},N=function(e){return{type:"CHOOSE_USER_ID",userId:e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHOOSE_USER_ID":return t.userId;default:return e}},y=function(e){return{type:"CHOOSE_POST_ID",postId:e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHOOSE_POST_ID":return t.postId;default:return e}},w=function(e){return{type:"POST_ID_CHECK",postIdCheck:e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_ID_CHECK":return t.postIdCheck;default:return e}},g=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VISIBLE_COMMENTS":return t.visibleComments;default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return t.newPost;default:return e}},T=function(e){return{type:"ADD_COMMENT",newComment:e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENT":return t.newComment;default:return e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_CHANGE":return t.inputChange;default:return e}},M=n(8),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{commentBody:"",commentEmail:"",commentName:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENT_BODY":return Object(M.a)(Object(M.a)({},e),{},{commentBody:t.commentBody});case"COMMENT_EMAIL":return Object(M.a)(Object(M.a)({},e),{},{commentEmail:t.commentEmail});case"COMMENT_NAME":return Object(M.a)(Object(M.a)({},e),{},{commentName:t.commentName});case"RESET_COMMENT":return{commentBody:"",commentEmail:"",commentName:""};default:return e}},A="https://mate-api.herokuapp.com/comments",x=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A)).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return e.postId===t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A,"/").concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=Object(f.combineReducers)({loading:E,userPosts:_,userId:C,postIdCheck:j,postId:I,visibleComments:g,newPost:P,newComment:S,inputChange:D,commentFields:k}),F=function(e){return e.userId?Object(p.a)(e.userPosts).filter((function(t){return null!==t.userId&&t.userId===e.userId&&t.title.toLowerCase().includes(e.inputChange.toLowerCase())})):Object(p.a)(e.userPosts).filter((function(t){return null!==t.title&&t.title.toLowerCase().includes(e.inputChange.toLowerCase())}))},H=Object(f.createStore)(B,Object(d.composeWithDevTools)(Object(f.applyMiddleware)(h.a))),G=function(e){return e.loading},U=function(e){return e.userId},V=function(e){return e.postId},Y=function(e){return e.postIdCheck},J=function(e){return e.visibleComments},K=function(e){return e.newPost},W=function(e){return e.newComment},X=function(e){return e.commentFields.commentName},q=function(e){return e.commentFields.commentEmail},z=function(e){return e.commentFields.commentBody},Q=function(){var e=Object(u.b)(),t=Object(u.c)(G),n=Object(u.c)(U);return a.a.createElement("button",{type:"button",onClick:function(){return e((t=n,function(){var e=Object(m.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"START_LOADING"}),e.next=3,b(t);case 3:r=e.sent,n(O(r)),n(N(t)),n({type:"FINISH_LOADING"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t},disabled:t},!t&&"Start loading Posts")},Z=(n(34),function(e){var t=e.posts,n=e.handleClick,r=e.postIsOpened,c=e.activePostId,o=Object(u.b)();var s=function(e,t){var n;return function(r){var a=function(e){return{type:"INPUT_CHANGE",inputChange:e}}(r.currentTarget.value);clearTimeout(n),n=window.setTimeout((function(){e(a)}),t)}}(o,1500);return a.a.createElement("div",{className:"PostsList"},a.a.createElement("h2",null,"Posts:"),a.a.createElement("div",{className:"App__input"},a.a.createElement("label",{className:"filterByTitle"},a.a.createElement("input",{className:"filterByTitle",type:"text",name:"filterTitle",placeholder:"put name of todo",onChange:s}),a.a.createElement("span",{className:"bar"}))),a.a.createElement("div",{className:"App__PostList"},a.a.createElement("ul",{className:"PostsList__list"},t.map((function(e){return a.a.createElement("li",{key:e.id,className:"PostsList__item"},a.a.createElement("div",null,a.a.createElement("b",null,"[User #".concat(e.userId,"]")),e.title),a.a.createElement("button",{className:"beautiful.button",type:"button",onClick:function(){return o({type:"REMOVE_POST",postId:e.id})}},"Remove"),r&&e.id===c?a.a.createElement("button",{type:"button",className:"PostsList__button button",onClick:function(){return n(e.id,"Close")}},"Close"):a.a.createElement("button",{type:"button",className:"PostsList__button button",onClick:function(){return n(e.id,"Open")}},"Open"))})))))}),$=(n(35),function(e){var t=e.postId,n=Object(u.b)(),r=Object(u.c)(X),c=Object(u.c)(q),o=Object(u.c)(z);return a.a.createElement("form",{className:"NewCommentForm",onSubmit:function(e){e.preventDefault(),n(function(e,t){return function(){var n=Object(m.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:R(e).then((function(){return x(t)})).then((function(e){return r(T(e))}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}({postId:t,name:r,email:c,body:o},t)),n({type:"RESET_COMMENT"})}},a.a.createElement("div",{className:"form-field"},a.a.createElement("input",{type:"text",name:"name",placeholder:"Your name",className:"NewCommentForm__input",value:r,onChange:function(e){return n({type:"COMMENT_NAME",commentName:e.target.value})}})),a.a.createElement("div",{className:"form-field"},a.a.createElement("input",{type:"text",name:"email",placeholder:"Your email",className:"NewCommentForm__input",value:c,onChange:function(e){return n({type:"COMMENT_EMAIL",commentEmail:e.target.value})}})),a.a.createElement("div",{className:"form-field"},a.a.createElement("textarea",{name:"body",placeholder:"Type comment here",className:"NewCommentForm__input",value:o,onChange:function(e){return n({type:"COMMENT_BODY",commentBody:e.target.value})}})),a.a.createElement("button",{type:"submit",className:"NewCommentForm__submit-button button"},"Add a comment"))}),ee=(n(36),function(e){var t=e.postId,n=Object(u.b)(),r=Object(u.c)(J),c=Object(u.c)(K),o=Object(u.c)(W);return a.a.createElement("div",{className:"PostDetails"},a.a.createElement("h2",null,"Post details:"),a.a.createElement("section",{className:"PostDetails__post"},a.a.createElement("p",null,null!==c&&c.title)),a.a.createElement("section",{className:"PostDetails__comments"},a.a.createElement("button",{type:"button",className:"button",onClick:function(){return n(function(e){return{type:"VISIBLE_COMMENTS",visibleComments:e}}(!r))}},r?"Hide":"Show"," ".concat(o.length," comments")),r&&a.a.createElement("ul",{className:"PostDetails__list"},o.length>0&&o.map((function(e){return a.a.createElement("li",{className:"PostDetails__list-item",key:e.id},a.a.createElement("button",{type:"button",className:"PostDetails__remove-button button",onClick:function(){return n(function(e,t){return function(){var n=Object(m.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:L(e).then((function(){return x(t)})).then((function(e){return r(T(e))}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e.id,t))}},"X"),a.a.createElement("p",null,e.name))})))),a.a.createElement("section",null,a.a.createElement("div",{className:"PostDetails__form-wrapper"},a.a.createElement($,{postId:t}))))}),te=["All users","Leanne Graham","Ervin Howell","Clementine Bauch","Patricia Lebsack","Chelsey Dietrich","Mrs. Dennis Schulist","Kurtis Weissnat","Nicholas Runolfsdottir V","Glenna Reichert"],ne=(n(37),function(){var e=Object(u.b)(),t=Object(u.c)(G),n=Object(u.c)(F),r=Object(u.c)(V),c=Object(u.c)(Y);return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Redux list of posts"),t?a.a.createElement("div",{className:"App__loadPosts"},a.a.createElement("header",{className:"App__header"},a.a.createElement("label",null,"Select a user: \xa0",a.a.createElement("select",{className:"App__user-selector",onChange:function(t){return e(N(+t.target.value))}},te.map((function(e,t){return a.a.createElement("option",{key:e,value:t},e)}))))),a.a.createElement("main",{className:"App__main"},a.a.createElement("div",{className:"App__sidebar"},a.a.createElement(Z,{handleClick:function(t,n){var r;switch(e((r=t,function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c=r,fetch("".concat(v,"/").concat(c)).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:return n=e.sent,t({type:"ADD_POST",newPost:n}),e.next=6,x(r);case 6:a=e.sent,t(T(a));case 8:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}())),n){case"Open":e(y(t)),e(w(!0));break;case"Close":e(y(0)),e(w(!1))}},postIsOpened:c,activePostId:r,posts:n})),a.a.createElement("div",{className:"App__content"},c&&a.a.createElement(ee,{postId:r})))):a.a.createElement(Q,null))}),re=function(){return a.a.createElement(u.a,{store:H},a.a.createElement(s.a,null,a.a.createElement(ne,null)))};o.a.render(a.a.createElement(re,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.5ee2e554.chunk.js.map