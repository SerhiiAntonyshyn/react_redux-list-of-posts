(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{24:function(e,t,n){e.exports=n(41)},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),s=n(2),u=n(23),i=n(3),l=n.n(i),m=n(6),p=n(17),d=n(7),f=n(21),h=n(22),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return"Start Loading";case"FINISH_LOADING":return"Finish Loading";default:return e}},E="https://mate-api.herokuapp.com/posts",v=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?fetch("".concat(E,"?userId=").concat(t)).then((function(e){return e.json()})).then((function(e){return e.data})):fetch("".concat(E)).then((function(e){return e.json()})).then((function(e){return e.data})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("".concat(E,"/").concat(t)).then((function(e){return e.json()})).then((function(e){return e.data})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){return{type:"USER_POSTS",userPosts:e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_POSTS":return t.userPosts;case"REMOVE_POST":return e.filter((function(e){return e.id!==t.postId}));default:return e}},C=function(e){return{type:"CHOOSE_USER_ID",userId:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHOOSE_USER_ID":return t.userId;default:return e}},y=function(e){return{type:"CHOOSE_POST_ID",postId:e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHOOSE_POST_ID":return t.postId;default:return e}},g=function(e){return{type:"POST_ID_CHECK",postIdCheck:e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_ID_CHECK":return t.postIdCheck;default:return e}},T=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VISIBLE_COMMENTS":return t.visibleComments;default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return t.newPost;default:return e}},S=function(e){return{type:"ADD_COMMENT",newComment:e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENT":return t.newComment;default:return e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_CHANGE":return t.inputChange;default:return e}},M=n(8),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{commentBody:"",commentEmail:"",commentName:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENT_BODY":return Object(M.a)(Object(M.a)({},e),{},{commentBody:t.commentBody});case"COMMENT_EMAIL":return Object(M.a)(Object(M.a)({},e),{},{commentEmail:t.commentEmail});case"COMMENT_NAME":return Object(M.a)(Object(M.a)({},e),{},{commentName:t.commentName});case"RESET_COMMENT":return{commentBody:"",commentEmail:"",commentName:""};default:return e}},A="https://mate-api.herokuapp.com/comments",x=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A)).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return e.postId===t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A,"/").concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISABLED_BUTTON":return!0;case"ACTIVE_BUTTON":return!1;default:return e}},H=Object(d.combineReducers)({loading:_,userPosts:O,userId:w,postIdCheck:P,postId:I,visibleComments:T,newPost:j,newComment:D,inputChange:L,commentFields:k,isButtonDisabled:R}),U=function(e){return e.userId?Object(p.a)(e.userPosts).filter((function(t){return null!==t.userId&&t.userId===e.userId&&t.title.toLowerCase().includes(e.inputChange.toLowerCase())})):Object(p.a)(e.userPosts).filter((function(t){return null!==t.title&&t.title.toLowerCase().includes(e.inputChange.toLowerCase())}))},G=Object(d.createStore)(H,Object(f.composeWithDevTools)(Object(d.applyMiddleware)(h.a))),V=function(e){return e.loading},q=function(e){return e.isButtonDisabled},J=function(e){return e.userId},K=function(e){return e.postId},W=function(e){return e.postIdCheck},Y=function(e){return e.visibleComments},X=function(e){return e.newPost},z=function(e){return e.newComment},Q=function(e){return e.commentFields.commentName},Z=function(e){return e.commentFields.commentEmail},$=function(e){return e.commentFields.commentBody},ee=(n(34),function(){return r.a.createElement("div",{className:"Loader"},r.a.createElement("div",{className:"Loader__content"}))}),te=(n(35),function(){var e=Object(s.b)(),t=Object(s.c)(V),n=Object(s.c)(J);return r.a.createElement("div",{className:"Start"},"Start Loading"!==t?r.a.createElement("button",{type:"button",className:"Start__header_button",onClick:function(){return e((t=n,function(){var e=Object(m.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"START_LOADING"}),e.next=3,v(t);case 3:a=e.sent,n(N(a)),n(C(t)),n({type:"FINISH_LOADING"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t},disabled:!!t},!t&&"Click here to download posts!"):r.a.createElement(ee,null))}),ne=["All users","Leanne Graham","Ervin Howell","Clementine Bauch","Patricia Lebsack","Chelsey Dietrich","Mrs. Dennis Schulist","Kurtis Weissnat","Nicholas Runolfsdottir V","Glenna Reichert"],ae=(n(36),function(e){var t=e.posts,n=e.handleClick,a=e.postIsOpened,c=e.activePostId,o=Object(s.b)();var u=function(e,t){var n;return function(a){var r=function(e){return{type:"INPUT_CHANGE",inputChange:e}}(a.currentTarget.value);clearTimeout(n),n=window.setTimeout((function(){e(r)}),t)}}(o,1500);return r.a.createElement("div",{className:"PostsList"},r.a.createElement("h2",null,"Posts:"),r.a.createElement("div",{className:"PostsList__input"},r.a.createElement("input",{type:"text",required:!0,name:"filterTitle",className:"PostsList__input-filter",onChange:u}),r.a.createElement("span",{className:"PostsList__bar"}),r.a.createElement("label",{className:"PostsList__label"},"Put the name of post")),r.a.createElement("div",{className:"App__PostList"},0!==t.length?r.a.createElement("ul",{className:"PostsList__list"},t.map((function(e){return r.a.createElement("li",{key:e.id,className:"PostsList__item"},r.a.createElement("div",null,r.a.createElement("b",null,ne[e.userId]),r.a.createElement("p",{className:"PostsLists__item_title"},e.title)),r.a.createElement("div",{className:"PostsList__list_button"},r.a.createElement("button",{className:"PostsList__button",type:"button",onClick:function(){return o({type:"REMOVE_POST",postId:e.id})}},"Remove"),a&&e.id===c?r.a.createElement("button",{type:"button",className:"PostsList__button",onClick:function(){return n(e.id,"Close")}},"Close"):r.a.createElement("button",{type:"button",className:"PostsList__button",onClick:function(){return n(e.id,"Open")}},"Open")))}))):r.a.createElement("div",{className:"PostsList__emptyList"},"No posts found, please change the search word")))}),re=(n(37),function(e){var t=e.postId,n=Object(s.b)(),a=Object(s.c)(Q),c=Object(s.c)(Z),o=Object(s.c)($);return r.a.createElement("form",{className:"NewCommentForm",onSubmit:function(e){e.preventDefault(),n(function(e,t){return function(){var n=Object(m.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:B(e).then((function(){return x(t)})).then((function(e){return a(S(e))}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}({postId:t,name:a,email:c,body:o},t)),n({type:"RESET_COMMENT"})}},r.a.createElement("div",{className:"NewCommentForm__form-field"},r.a.createElement("input",{type:"text",required:!0,name:"name",className:"NewCommentForm__input",value:a,onChange:function(e){return n({type:"COMMENT_NAME",commentName:e.target.value})}}),r.a.createElement("span",{className:"NewCommentForm__bar"}),r.a.createElement("label",{className:"NewCommentForm__label"},"Name")),r.a.createElement("div",{className:"NewCommentForm__form-field"},r.a.createElement("input",{type:"text",required:!0,name:"email",className:"NewCommentForm__input",value:c,onChange:function(e){return n({type:"COMMENT_EMAIL",commentEmail:e.target.value})}}),r.a.createElement("span",{className:"NewCommentForm__bar"}),r.a.createElement("label",{className:"NewCommentForm__label"},"Email")),r.a.createElement("div",{className:"NewCommentForm__form-field"},r.a.createElement("input",{type:"text",required:!0,name:"body",className:"NewCommentForm__input",value:o,onChange:function(e){return n({type:"COMMENT_BODY",commentBody:e.target.value})}}),r.a.createElement("span",{className:"NewCommentForm__bar"}),r.a.createElement("label",{className:"NewCommentForm__label"},"Text")),r.a.createElement("button",{type:"submit",className:"NewCommentForm__button"},"Add a comment"))}),ce=(n(38),function(e){var t=e.postId,n=Object(s.b)(),a=Object(s.c)(Y),c=Object(s.c)(X),o=Object(s.c)(z),u=Object(s.c)(q);return r.a.createElement("div",{className:"PostDetails"},r.a.createElement("h2",null,"Post details:"),r.a.createElement("section",{className:"PostDetails__post"},r.a.createElement("p",null,null!==c&&c.title)),void 0===o.length?r.a.createElement(ee,null):o.length>0&&r.a.createElement("section",{className:"PostDetails__comments"},r.a.createElement("button",{type:"button",className:"PostDetails__button",onClick:function(){return n(function(e){return{type:"VISIBLE_COMMENTS",visibleComments:e}}(!a))}},a?"Hide":"Show"," ".concat(o.length," comments")),a&&r.a.createElement("ul",{className:"PostDetails__list"},o.length>0&&o.map((function(e){return r.a.createElement("li",{className:"PostDetails__list-item",key:e.id},r.a.createElement("button",{type:"button",className:"PostDetails__button",onClick:function(){return n(function(e,t){return function(){var n=Object(m.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"DISABLED_BUTTON"}),F(e).then((function(){return x(t)})).then((function(e){return a(S(e))})),a({type:"ACTIVE_BUTTON"});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e.id,t))},disabled:u},"X"),r.a.createElement("p",null,e.name))})))),r.a.createElement("section",null,r.a.createElement("div",{className:"PostDetails__form-wrapper"},r.a.createElement(re,{postId:t}))))}),oe=(n(39),function(){var e=Object(s.b)(),t=Object(s.c)(U),n=Object(s.c)(K),a=Object(s.c)(W),c=Object(s.c)(V);return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"App__headline"},"Redux list of posts"),"Finish Loading"!==c?r.a.createElement(te,null):r.a.createElement("div",{className:"App__loadPosts"},r.a.createElement("header",{className:"App__header"},r.a.createElement("label",null,"Select a user: \xa0",r.a.createElement("select",{className:"App__user-selector",onChange:function(t){return e(C(+t.target.value))}},ne.map((function(e,t){return r.a.createElement("option",{key:e,value:t},e)}))))),r.a.createElement("main",{className:"App__main"},r.a.createElement("div",{className:"App__sidebar"},r.a.createElement(ae,{handleClick:function(t,n){var a;switch(e((a=t,function(){var e=Object(m.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(a);case 2:return n=e.sent,t({type:"ADD_POST",newPost:n}),e.next=6,x(a);case 6:r=e.sent,t(S(r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),n){case"Open":e(y(t)),e(g(!0));break;case"Close":e(y(0)),e(g(!1))}},postIsOpened:a,activePostId:n,posts:t})),r.a.createElement("div",{className:"App__content"},a?r.a.createElement(ce,{postId:n}):"No post details selected"))))}),se=function(){return r.a.createElement(s.a,{store:G},r.a.createElement(u.a,null,r.a.createElement(oe,null)))};o.a.render(r.a.createElement(se,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.730d6ec4.chunk.js.map